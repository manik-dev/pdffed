{"ast":null,"code":"var _jsxFileName = \"/Users/Shared/Previously Relocated Items/Security/development/react/wizard/src/components/pdfView.js\";\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport PdfFile from '../fw4.pdf';\nimport pdfform from '../../node_modules/pdfform.js/pdfform';\nimport minipdf from '../../node_modules/pdfform.js/minipdf';\nimport Grid from '@material-ui/core/Grid';\nimport Navigation from '../components/navigation';\nimport { connect } from 'react-redux';\nimport { mapping } from '../data/formFieldsMapping';\nconst useStyles = makeStyles(theme => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(1, 1, 6),\n    width: '50%',\n    height: '800px',\n    background: 'beige'\n  }\n}));\n\nfunction asyncCall(props) {\n  var xhr = new XMLHttpRequest();\n  xhr.open(\"GET\", PdfFile, true);\n  xhr.responseType = \"arraybuffer\";\n\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState === 4) {\n      if ((xhr.status === 200 || xhr.status == 0) && xhr.response) {\n        xhr.onloadend = function () {\n          // var text_encoding = require('text-encoding');\n          // console.log(text_encoding)\n          var fields = pdfform().list_fields(this.response);\n          var newFields = {};\n          console.log(props);\n\n          for (let field of Object.keys(fields)) {\n            switch (field) {\n              case 'f1_01':\n                console.log(props);\n            }\n\n            var fieldData = fields[field];\n\n            if (fieldData[0].type === 'string') {\n              var arr = [];\n              arr.push(\"data\");\n              newFields[field] = arr;\n            } else {\n              var arr = [];\n              arr.push(true);\n              arr.push(false);\n              arr.push(false);\n              newFields[field] = arr;\n            }\n          }\n\n          var pdfData = pdfform(minipdf).transform(this.response, newFields);\n          var blob = new Blob([pdfData], {\n            type: 'application/pdf'\n          });\n          var url = URL.createObjectURL(blob);\n          var iframe = document.getElementById(\"test\");\n          iframe.src = url;\n        };\n      }\n    }\n  };\n\n  xhr.send();\n}\n\nfunction PdfView(props) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleOpen = () => {\n    asyncCall(props);\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return React.createElement(Grid, {\n    container: true,\n    justify: \"center\",\n    alignItems: \"center\",\n    className: \"mainGrid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"heading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, \"Preview your data on form\")), React.createElement(Grid, {\n    container: true,\n    item: true,\n    xs: 12,\n    className: \"root\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    color: \"secondary\",\n    size: \"large\",\n    onClick: handleOpen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, \"Preview\"), React.createElement(Modal, {\n    \"aria-labelledby\": \"transition-modal-title\",\n    \"aria-describedby\": \"transition-modal-description\",\n    className: classes.modal,\n    open: open,\n    closeAfterTransition: true,\n    BackdropComponent: Backdrop,\n    BackdropProps: {\n      timeout: 500\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(Fade, {\n    in: open,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, React.createElement(\"iframe\", {\n    id: \"test\",\n    style: {\n      boxSsizing: 'border-box',\n      width: '100%',\n      height: '100%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    id: \"annotation-layer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }), React.createElement(Box, {\n    display: \"flex\",\n    justifyContent: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"medium\",\n    onClick: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, \"Close\"))))))), React.createElement(Navigation, {\n    prev: \"/step1/ms\",\n    next: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }));\n}\n\nfunction mapStateToProps(state) {\n  return state;\n}\n\nexport default connect(mapStateToProps)(PdfView);","map":{"version":3,"sources":["/Users/Shared/Previously Relocated Items/Security/development/react/wizard/src/components/pdfView.js"],"names":["React","makeStyles","Modal","Backdrop","Fade","Paper","Button","Box","PdfFile","pdfform","minipdf","Grid","Navigation","connect","mapping","useStyles","theme","modal","display","alignItems","justifyContent","paper","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","width","height","asyncCall","props","xhr","XMLHttpRequest","open","responseType","onreadystatechange","readyState","status","response","onloadend","fields","list_fields","newFields","console","log","field","Object","keys","fieldData","type","arr","push","pdfData","transform","blob","Blob","url","URL","createObjectURL","iframe","document","getElementById","src","send","PdfView","classes","setOpen","useState","handleOpen","handleClose","timeout","boxSsizing","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport PdfFile from '../fw4.pdf'\nimport pdfform from '../../node_modules/pdfform.js/pdfform'\nimport minipdf from '../../node_modules/pdfform.js/minipdf'\nimport Grid from '@material-ui/core/Grid';\nimport Navigation from '../components/navigation';\nimport { connect } from 'react-redux';\nimport {mapping} from '../data/formFieldsMapping';\n\nconst useStyles = makeStyles(theme => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(1, 1, 6),\n    width: '50%',\n    height: '800px',\n    background:'beige'\n\n  },\n}));\n\n\n\nfunction asyncCall(props) {\n  var xhr = new XMLHttpRequest();\n  xhr.open(\"GET\", PdfFile, true);\n  xhr.responseType = \"arraybuffer\";\n\n  xhr.onreadystatechange = function(){\n  if (xhr.readyState === 4){\n    if (((xhr.status === 200) || (xhr.status == 0)) && (xhr.response)){\n      xhr.onloadend = function() {\n\n        // var text_encoding = require('text-encoding');\n        // console.log(text_encoding)\n        var fields = pdfform().list_fields(this.response);\n        var newFields = {};\n        console.log(props)\n         for(let field of Object.keys(fields)){\n            switch(field){\n              case 'f1_01':\n                console.log(props);\n            }\n\n\n            var fieldData = fields[field];\n            if(fieldData[0].type === 'string'){\n                var arr = [];\n                arr.push(\"data\");\n                newFields[field] = arr;\n            }else{\n                var arr = [];\n                arr.push(true);\n                arr.push(false);\n                arr.push(false);\n                newFields[field] = arr;\n            }\n         }\n         var pdfData =  pdfform(minipdf).transform(this.response, newFields)\n         var blob = new Blob([pdfData], {type: 'application/pdf'});\n         var url = URL.createObjectURL(blob);\n\n         var iframe = document.getElementById(\"test\");\n         iframe.src=url\n      }\n    }\n  }\n}\nxhr.send()\n\n}\n\nfunction PdfView(props) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleOpen = () => {\n    asyncCall(props)\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <Grid \n    container \n    justify=\"center\" \n    alignItems=\"center\" \n    className=\"mainGrid\"\n    >\n\n        <Grid item>\n            <h1 className=\"heading\">Preview your data on form</h1>\n        </Grid>\n\n        <Grid \n            container \n            item \n            xs={12} \n            className=\"root\"\n            >\n                <div>\n      <Button \n      variant=\"contained\"\n        color=\"secondary\" \n        size=\"large\" \n        onClick={handleOpen}\n      >\n          Preview  \n      </Button>\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={open}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={open}>\n        <Paper className={classes.paper}>\n        <iframe id=\"test\" style={{boxSsizing: 'border-box', width: '100%', height: '100%'}} ></iframe>\n            <div id=\"annotation-layer\"></div>\n\n            <Box display=\"flex\"  justifyContent='center'>\n                  <Button \n                      variant=\"contained\" \n                      color=\"primary\" \n                      size=\"medium\" \n                      onClick={handleClose}\n                  >\n                          Close  \n                  </Button>\n            </Box>\n        </Paper>\n        </Fade>\n      </Modal>\n    </div>\n            </Grid>\n\n\n        <Navigation prev=\"/step1/ms\" next=\"/\" />\n  </Grid>\n    \n  );\n}\n\nfunction mapStateToProps(state){\n  return state;\n}\n\nexport default connect(mapStateToProps)(PdfView);"]},"metadata":{},"sourceType":"module"}