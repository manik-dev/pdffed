{"ast":null,"code":"var _jsxFileName = \"/Users/Shared/Previously Relocated Items/Security/development/react/wizard/src/components/pdfView.js\";\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport PdfFile from '../fw4.pdf';\nimport pdfform from '../../node_modules/pdfform.js/pdfform';\nimport minipdf from '../../node_modules/pdfform.js/minipdf';\nconst useStyles = makeStyles(theme => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(1, 1, 6),\n    width: '50%',\n    height: '800px',\n    background: 'beige'\n  }\n}));\n\nfunction asyncCall() {\n  var xhr = new XMLHttpRequest();\n  xhr.open(\"GET\", PdfFile, true);\n  xhr.responseType = \"arraybuffer\";\n\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState === 4) {\n      if ((xhr.status === 200 || xhr.status == 0) && xhr.response) {\n        xhr.onloadend = function () {\n          // var text_encoding = require('text-encoding');\n          // console.log(text_encoding)\n          console.log(this.response);\n          var fields = pdfform().list_fields(this.response);\n          console.log(fields);\n          var newFields = {};\n\n          for (let field of Object.keys(fields)) {\n            var fieldData = fields[field];\n\n            if (fieldData[0].type === 'string') {\n              var arr = [];\n              arr.push(\"data\");\n              newFields[field] = arr;\n            } else {\n              var arr = [];\n              arr.push(true);\n              arr.push(false);\n              arr.push(false);\n              newFields[field] = arr;\n            }\n          }\n\n          console.log(newFields);\n          var pdfData = pdfform(minipdf).transform(this.response, newFields);\n          console.log(pdfData);\n        };\n      }\n    }\n  };\n\n  xhr.send();\n}\n\nexport default function PdfView() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleOpen = () => {\n    asyncCall();\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"medium\",\n    onClick: handleOpen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \"Preview\"), React.createElement(Modal, {\n    \"aria-labelledby\": \"transition-modal-title\",\n    \"aria-describedby\": \"transition-modal-description\",\n    className: classes.modal,\n    open: open,\n    closeAfterTransition: true,\n    BackdropComponent: Backdrop,\n    BackdropProps: {\n      timeout: 500\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(Fade, {\n    in: open,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(\"canvas\", {\n    id: \"canvas\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    id: \"annotation-layer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }), React.createElement(Box, {\n    display: \"flex\",\n    justifyContent: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"medium\",\n    onClick: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, \"Close\"))))));\n}","map":{"version":3,"sources":["/Users/Shared/Previously Relocated Items/Security/development/react/wizard/src/components/pdfView.js"],"names":["React","makeStyles","Modal","Backdrop","Fade","Paper","Button","Box","PdfFile","pdfform","minipdf","useStyles","theme","modal","display","alignItems","justifyContent","paper","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","width","height","asyncCall","xhr","XMLHttpRequest","open","responseType","onreadystatechange","readyState","status","response","onloadend","console","log","fields","list_fields","newFields","field","Object","keys","fieldData","type","arr","push","pdfData","transform","send","PdfView","classes","setOpen","useState","handleOpen","handleClose","timeout"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport PdfFile from '../fw4.pdf'\nimport pdfform from '../../node_modules/pdfform.js/pdfform'\nimport minipdf from '../../node_modules/pdfform.js/minipdf'\nconst useStyles = makeStyles(theme => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(1, 1, 6),\n    width: '50%',\n    height: '800px',\n    background:'beige'\n\n  },\n}));\n\n\n\nfunction asyncCall() {\n  var xhr = new XMLHttpRequest();\n  xhr.open(\"GET\", PdfFile, true);\n  xhr.responseType = \"arraybuffer\";\n\n  xhr.onreadystatechange = function(){\n  if (xhr.readyState === 4){\n    if (((xhr.status === 200) || (xhr.status == 0)) && (xhr.response)){\n      xhr.onloadend = function() {\n\n        // var text_encoding = require('text-encoding');\n        // console.log(text_encoding)\n\n\n        console.log(this.response)\n        var fields = pdfform().list_fields(this.response);\n        console.log(fields)\n        var newFields = {};\n\n         for(let field of Object.keys(fields)){\n            var fieldData = fields[field];\n            if(fieldData[0].type === 'string'){\n                var arr = [];\n                arr.push(\"data\");\n                newFields[field] = arr;\n            }else{\n                var arr = [];\n                arr.push(true);\n                arr.push(false);\n                arr.push(false);\n                newFields[field] = arr;\n            }\n         }\n\n        console.log(newFields)\n         var pdfData =  pdfform(minipdf).transform(this.response, newFields)\n         console.log(pdfData)\n      }\n    }\n  }\n}\nxhr.send()\n\n}\n\nexport default function PdfView() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleOpen = () => {\n\n    asyncCall()\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button \n        variant=\"contained\" \n        color=\"primary\" \n        size=\"medium\" \n        onClick={handleOpen}\n      >\n          Preview  \n      </Button>\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={open}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={open}>\n        <Paper className={classes.paper}>\n            <canvas id=\"canvas\"></canvas>\n            <div id=\"annotation-layer\"></div>\n\n            <Box display=\"flex\"  justifyContent='center'>\n                  <Button \n                      variant=\"contained\" \n                      color=\"primary\" \n                      size=\"medium\" \n                      onClick={handleClose}\n                  >\n                          Close  \n                  </Button>\n            </Box>\n        </Paper>\n        </Fade>\n      </Modal>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}